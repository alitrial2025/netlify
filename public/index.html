<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MovieFlix - Movie Streaming App</title>
    <meta name="description" content="Discover and stream movies on MovieFlix. Browse by categories, search, download for offline viewing, join interactive watch parties, and explore the marketplace.">
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        line-height: 1.6;
        color: #f1f5f9;
        background-color: #05060f;
        background: linear-gradient(135deg, #150a13 0%, #05060f 100%);
        min-height: 100vh;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header */
      header {
        text-align: center;
        padding: 4rem 0 2rem;
      }

      .logo {
        width: 120px;
        height: 120px;
        margin-bottom: 2rem;
        border-radius: 20px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      }

      h1 {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        background: linear-gradient(45deg, #7dd3fc, #38bdf8, #0ea5e9);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .subtitle {
        font-size: 1.2rem;
        color: #94a3b8;
        margin-bottom: 2rem;
      }

      /* Hero Section */
      .hero {
        text-align: center;
        padding: 2rem 0 4rem;
      }

      .hero p {
        font-size: 1.1rem;
        max-width: 600px;
        margin: 0 auto 2rem;
        color: #cbd5e1;
      }

      .download-btn {
        display: inline-block;
        background: linear-gradient(45deg, #0ea5e9, #0284c7);
        color: white;
        padding: 1rem 2rem;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1.1rem;
        transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
      }

      .download-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(14, 165, 233, 0.4);
      }

      /* Features Grid */
      .features {
        padding: 4rem 0;
      }

      .features h2 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 3rem;
        color: #f1f5f9;
      }

      .features-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        margin-bottom: 4rem;
      }

      .feature-card {
        background: rgba(15, 23, 42, 0.8);
        border: 1px solid rgba(248, 250, 252, 0.1);
        border-radius: 16px;
        padding: 2rem;
        text-align: center;
        transition: transform 0.3s, box-shadow 0.3s;
        backdrop-filter: blur(10px);
      }

      .feature-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
      }

      .feature-icon {
        width: 80px;
        height: 80px;
        margin: 0 auto 1.5rem;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(255,255,255,0.06);
        border: 1px solid rgba(255,255,255,0.12);
      }

      .feature-icon svg {
        width: 42px;
        height: 42px;
        opacity: 0.95;
        filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
      }

      .feature-card h3 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        color: #f1f5f9;
      }

      .feature-card p {
        color: #94a3b8;
        font-size: 1rem;
      }

      /* Movie Showcase */
      .showcase {
        padding: 4rem 0;
      }

      .showcase h2 {
        text-align: center;
        font-size: 2.5rem;
        margin-bottom: 3rem;
        color: #f1f5f9;
      }

      .showcase-container {
        position: relative;
        overflow: hidden;
        margin: 0 auto;
        max-width: 1200px;
      }

      .showcase-scroll {
        display: flex;
        gap: 1.5rem;
        padding: 0 20px;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        scrollbar-width: none;
        -ms-overflow-style: none;
      }

      .showcase-scroll::-webkit-scrollbar {
        display: none;
      }

      .movie-card {
        flex: 0 0 280px;
        background: rgba(15, 23, 42, 0.8);
        border: 1px solid rgba(248, 250, 252, 0.1);
        border-radius: 16px;
        overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
        scroll-snap-align: start;
        backdrop-filter: blur(10px);
      }

      .movie-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 15px 35px rgba(0,0,0,0.4);
      }

      .movie-poster {
        width: 100%;
        height: 420px;
        object-fit: cover;
        background: linear-gradient(45deg, #1e293b, #334155);
      }

      .movie-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(180deg, rgba(0,0,0,0.1) 0%, rgba(0,0,0,0.6) 100%);
      }

      .movie-card-content {
        position: relative;
        padding: 1.5rem;
      }

      .movie-title {
        color: #f1f5f9;
        font-size: 1.1rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        line-height: 1.3;
      }

      .movie-meta {
        display: flex;
        gap: 0.5rem;
        margin-bottom: 1rem;
        flex-wrap: wrap;
      }

      .meta-pill {
        background: rgba(255,255,255,0.15);
        border: 1px solid rgba(255,255,255,0.2);
        padding: 0.25rem 0.75rem;
        border-radius: 12px;
        font-size: 0.8rem;
        font-weight: 600;
        color: #f1f5f9;
      }

      .meta-pill.secondary {
        background: rgba(255,255,255,0.1);
      }

      .movie-description {
        color: #cbd5e1;
        font-size: 0.9rem;
        line-height: 1.4;
        margin-bottom: 1rem;
      }

      .movie-actions {
        display: flex;
        gap: 0.75rem;
        align-items: center;
      }

      .action-btn {
        background: rgba(229,9,20,0.9);
        border: 1px solid rgba(229,9,20,0.5);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 20px;
        font-size: 0.85rem;
        font-weight: 600;
        text-decoration: none;
        transition: all 0.2s;
      }

      .action-btn:hover {
        background: #e50914;
        transform: translateY(-1px);
      }

      .action-btn.secondary {
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.2);
        color: #f1f5f9;
      }

      .action-btn.secondary:hover {
        background: rgba(255,255,255,0.2);
      }

      .scroll-indicator {
        text-align: center;
        margin-top: 2rem;
        color: #94a3b8;
        font-size: 0.9rem;
      }

      .feature-showcase {
        border: 2px solid rgba(255,255,255,0.2);
      }

      .feature-bg {
        width: 100%;
        height: 420px;
        border-radius: 14px;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .feature-icon-large {
        opacity: 0.8;
        filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 2rem 0;
        border-top: 1px solid rgba(248, 250, 252, 0.1);
        margin-top: 4rem;
      }

      footer p {
        color: #64748b;
        font-size: 0.9rem;
      }

      /* Responsive */
      @media (max-width: 768px) {
        h1 {
          font-size: 2rem;
        }

        .features h2, .screenshots h2 {
          font-size: 2rem;
        }

        .features-grid, .screenshot-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <img src="/logo.png" alt="MovieFlix Logo" class="logo">
        <h1>MovieFlix</h1>
        <p class="subtitle">Movie streaming, downloads, and more</p>
      </header>

      <!-- Hero Section -->
      <section class="hero">
        <p>
          Discover your next favorite movie, connect with fellow movie enthusiasts,
          browse by categories, download for offline viewing, and enjoy interactive watch parties.
          MovieFlix brings the cinema experience to your mobile device.
        </p>
        <a
          href="https://github.com/mzazimhenga22/movieflix/releases/latest"
          class="download-btn"
          id="download-apk"
          data-github-owner="mzazimhenga22"
          data-github-repo="movieflix"
          data-fallback-url="https://github.com/mzazimhenga22/movieflix/releases/latest"
        >
          Download APK
        </a>
      </section>

      <!-- Features -->
      <section class="features">
        <h2>What MovieFlix Offers</h2>
        <div class="features-grid">
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="white" role="img" aria-label="Movies">
                <path d="M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Zm0 2v10h16V8H4Zm2 1h2v2H6V9Zm0 4h2v2H6v-2Zm10-4h2v2h-2V9Zm0 4h2v2h-2v-2Z"/>
              </svg>
            </div>
            <h3>Home (Movies)</h3>
            <p>Browse trending titles, jump into details, and start watching in seconds.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="white" role="img" aria-label="Categories">
                <path d="M10 3H3v7h7V3Zm11 0h-7v7h7V3ZM10 14H3v7h7v-7Zm11 0h-7v7h7v-7Z"/>
              </svg>
            </div>
            <h3>Categories</h3>
            <p>Explore movies by genre and quickly find what you’re in the mood for.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="white" role="img" aria-label="Search">
                <path d="M10 2a8 8 0 1 1 5.293 14.001l4.353 4.353-1.414 1.414-4.353-4.353A8 8 0 0 1 10 2Zm0 2a6 6 0 1 0 0 12a6 6 0 0 0 0-12Z"/>
              </svg>
            </div>
            <h3>Search</h3>
            <p>Find specific titles fast with a dedicated search experience.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="white" role="img" aria-label="Downloads">
                <path d="M12 2a1 1 0 0 1 1 1v9.586l2.293-2.293 1.414 1.414L12 16.414 7.293 11.707l1.414-1.414L11 12.586V3a1 1 0 0 1 1-1Zm-8 17h16v2H4v-2Z"/>
              </svg>
            </div>
            <h3>Downloads</h3>
            <p>Save movies for offline viewing so you can watch anywhere.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="white" role="img" aria-label="Marketplace">
                <path d="M7 4h14l-2 7H5L7 4Zm-2 9h14v9H5v-9Zm4 2v5h2v-5H9Zm4 0v5h2v-5h-2Z"/>
              </svg>
            </div>
            <h3>Marketplace</h3>
            <p>Browse listings, manage your cart, and checkout seamlessly in-app.</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="white" role="img" aria-label="Interactive">
                <path d="M4 4h16v10H7l-3 3V4Zm4 5h8v2H8V9Zm0-3h8v2H8V6Z"/>
              </svg>
            </div>
            <h3>Interactive</h3>
            <p>Extras like watch parties and interactive features built for shared viewing.</p>
          </div>
        </div>
      </section>

      <!-- Movie Showcase -->
      <section class="showcase">
        <h2>App Preview</h2>
        <div class="showcase-container">
          <div class="showcase-scroll">
            <div class="movie-card feature-showcase">
              <div style="position: relative;">
                <div class="feature-bg" style="background: linear-gradient(135deg, #0ea5e9, #2563eb);"></div>
                <div class="movie-overlay"></div>
                <div class="feature-icon-large">
                  <svg width="60" height="60" viewBox="0 0 24 24" fill="white" aria-hidden="true">
                    <path d="M4 6h16a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Zm0 2v10h16V8H4Zm2 1h2v2H6V9Zm0 4h2v2H6v-2Zm10-4h2v2h-2V9Zm0 4h2v2h-2v-2Z"/>
                  </svg>
                </div>
              </div>
              <div class="movie-card-content">
                <h3 class="movie-title">Home (Movies)</h3>
                <div class="movie-meta">
                  <span class="meta-pill">Browse</span>
                  <span class="meta-pill secondary">Trending</span>
                </div>
                <p class="movie-description">Your main hub to discover movies quickly and jump into details when something catches your eye.</p>
                <div class="movie-actions">
                  <a href="#download-apk" class="action-btn">Get the App</a>
                  <a href="https://github.com/mzazimhenga22/movieflix/releases" class="action-btn secondary">Releases</a>
                </div>
              </div>
            </div>

            <div class="movie-card feature-showcase">
              <div style="position: relative;">
                <div class="feature-bg" style="background: linear-gradient(135deg, #22c55e, #14b8a6);"></div>
                <div class="movie-overlay"></div>
                <div class="feature-icon-large">
                  <svg width="60" height="60" viewBox="0 0 24 24" fill="white" aria-hidden="true">
                    <path d="M10 3H3v7h7V3Zm11 0h-7v7h7V3ZM10 14H3v7h7v-7Zm11 0h-7v7h7v-7Z"/>
                  </svg>
                </div>
              </div>
              <div class="movie-card-content">
                <h3 class="movie-title">Categories</h3>
                <div class="movie-meta">
                  <span class="meta-pill">Genres</span>
                  <span class="meta-pill secondary">Browse</span>
                </div>
                <p class="movie-description">Pick a genre and discover movies without hunting through endless lists.</p>
                <div class="movie-actions">
                  <a href="#download-apk" class="action-btn">Get the App</a>
                  <a href="https://github.com/mzazimhenga22/movieflix/releases" class="action-btn secondary">Releases</a>
                </div>
              </div>
            </div>

            <div class="movie-card feature-showcase">
              <div style="position: relative;">
                <div class="feature-bg" style="background: linear-gradient(135deg, #f59e0b, #ef4444);"></div>
                <div class="movie-overlay"></div>
                <div class="feature-icon-large">
                  <svg width="60" height="60" viewBox="0 0 24 24" fill="white" aria-hidden="true">
                    <path d="M10 2a8 8 0 1 1 5.293 14.001l4.353 4.353-1.414 1.414-4.353-4.353A8 8 0 0 1 10 2Zm0 2a6 6 0 1 0 0 12a6 6 0 0 0 0-12Z"/>
                  </svg>
                </div>
              </div>
              <div class="movie-card-content">
                <h3 class="movie-title">Search</h3>
                <div class="movie-meta">
                  <span class="meta-pill">Find</span>
                  <span class="meta-pill secondary">Fast</span>
                </div>
                <p class="movie-description">Look up titles directly and jump to the movie you want without scrolling.</p>
                <div class="movie-actions">
                  <a href="#download-apk" class="action-btn">Get the App</a>
                  <a href="https://github.com/mzazimhenga22/movieflix/releases" class="action-btn secondary">Releases</a>
                </div>
              </div>
            </div>

            <div class="movie-card feature-showcase">
              <div style="position: relative;">
                <div class="feature-bg" style="background: linear-gradient(135deg, #a855f7, #6366f1);"></div>
                <div class="movie-overlay"></div>
                <div class="feature-icon-large">
                  <svg width="60" height="60" viewBox="0 0 24 24" fill="white" aria-hidden="true">
                    <path d="M12 2a1 1 0 0 1 1 1v9.586l2.293-2.293 1.414 1.414L12 16.414 7.293 11.707l1.414-1.414L11 12.586V3a1 1 0 0 1 1-1Zm-8 17h16v2H4v-2Z"/>
                  </svg>
                </div>
              </div>
              <div class="movie-card-content">
                <h3 class="movie-title">Downloads</h3>
                <div class="movie-meta">
                  <span class="meta-pill">Offline</span>
                  <span class="meta-pill secondary">Save</span>
                </div>
                <p class="movie-description">Keep your downloads organized so you can watch even without a connection.</p>
                <div class="movie-actions">
                  <a href="#download-apk" class="action-btn">Get the App</a>
                  <a href="https://github.com/mzazimhenga22/movieflix/releases" class="action-btn secondary">Releases</a>
                </div>
              </div>
            </div>

            <div class="movie-card feature-showcase">
              <div style="position: relative;">
                <div class="feature-bg" style="background: linear-gradient(135deg, #10b981, #3b82f6);"></div>
                <div class="movie-overlay"></div>
                <div class="feature-icon-large">
                  <svg width="60" height="60" viewBox="0 0 24 24" fill="white" aria-hidden="true">
                    <path d="M7 4h14l-2 7H5L7 4Zm-2 9h14v9H5v-9Zm4 2v5h2v-5H9Zm4 0v5h2v-5h-2Z"/>
                  </svg>
                </div>
              </div>
              <div class="movie-card-content">
                <h3 class="movie-title">Marketplace</h3>
                <div class="movie-meta">
                  <span class="meta-pill">Cart</span>
                  <span class="meta-pill secondary">Checkout</span>
                </div>
                <p class="movie-description">Browse products, add to cart, and complete purchases inside the app.</p>
                <div class="movie-actions">
                  <a href="#download-apk" class="action-btn">Get the App</a>
                  <a href="https://github.com/mzazimhenga22/movieflix/releases" class="action-btn secondary">Releases</a>
                </div>
              </div>
            </div>

            <div class="movie-card feature-showcase">
              <div style="position: relative;">
                <div class="feature-bg" style="background: linear-gradient(135deg, #ec4899, #f97316);"></div>
                <div class="movie-overlay"></div>
                <div class="feature-icon-large">
                  <svg width="60" height="60" viewBox="0 0 24 24" fill="white" aria-hidden="true">
                    <path d="M4 4h16v10H7l-3 3V4Zm4 5h8v2H8V9Zm0-3h8v2H8V6Z"/>
                  </svg>
                </div>
              </div>
              <div class="movie-card-content">
                <h3 class="movie-title">Interactive</h3>
                <div class="movie-meta">
                  <span class="meta-pill">Parties</span>
                  <span class="meta-pill secondary">More</span>
                </div>
                <p class="movie-description">Interactive features like watch parties that make movie time feel shared.</p>
                <div class="movie-actions">
                  <a href="#download-apk" class="action-btn">Get the App</a>
                  <a href="https://github.com/mzazimhenga22/movieflix/releases" class="action-btn secondary">Releases</a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <p class="scroll-indicator">← Scroll to preview screens →</p>
      </section>

      <!-- Footer -->
      <footer>
        <p>&copy; 2024 MovieFlix. Built with React Native.</p>
      </footer>
    </div>

    <script>
      (function () {
        var btn = document.getElementById('download-apk');
        if (!btn) return;

        var owner = btn.getAttribute('data-github-owner');
        var repo = btn.getAttribute('data-github-repo');
        var fallbackUrl = btn.getAttribute('data-fallback-url') || btn.getAttribute('href');

        // Ensure the link works even if JS is disabled.
        if (fallbackUrl) btn.setAttribute('href', fallbackUrl);

        function pickApkAsset(assets) {
          if (!Array.isArray(assets)) return null;
          for (var i = 0; i < assets.length; i++) {
            var a = assets[i];
            if (!a || !a.name || !a.browser_download_url) continue;
            if (String(a.name).toLowerCase().endsWith('.apk')) return a;
          }
          return null;
        }

        function triggerDownload(url) {
          var a = document.createElement('a');
          a.href = url;
          a.rel = 'noopener';
          a.download = '';
          document.body.appendChild(a);
          a.click();
          a.remove();
        }

        btn.addEventListener('click', function (e) {
          e.preventDefault();

          var originalText = btn.textContent;
          btn.setAttribute('aria-busy', 'true');
          btn.textContent = 'Preparing download...';

          function resetBtn() {
            btn.textContent = originalText;
            btn.removeAttribute('aria-busy');
          }

          if (!owner || !repo) {
            resetBtn();
            if (fallbackUrl) window.location.href = fallbackUrl;
            return;
          }

          fetch('https://api.github.com/repos/' + owner + '/' + repo + '/releases/latest', {
            headers: { Accept: 'application/vnd.github+json' }
          })
            .then(function (res) {
              if (!res.ok) throw new Error('Failed to fetch release');
              return res.json();
            })
            .then(function (data) {
              var asset = pickApkAsset(data && data.assets);
              if (!asset) throw new Error('No APK asset found');
              triggerDownload(asset.browser_download_url);
            })
            .catch(function () {
              if (fallbackUrl) window.location.href = fallbackUrl;
            })
            .finally(resetBtn);
        });
      })();
    </script>
  </body>
</html>
